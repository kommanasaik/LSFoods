<ion-header style="background: #b8860b;">
  <header [title]="headerTitle"></header>
  <ion-row>
    <ion-col>
      <ion-list inset class="no-border" style="margin-top: 4px;width: 90%;margin-left: 20px;">
        <ion-item style="padding-left: 0px;">
          <ion-select id="ions" interface="action-sheet"  (ionChange)="ProductonChange($event)" [(ngModel)]="signup.state"
            style="width: 100% !important;max-width:none !important;" placeholder="Select Catagory">
            <ion-option *ngFor="let state of statelist"  [value]="state.ID">
              {{state.Value}}</ion-option>
          </ion-select>

        </ion-item>

      </ion-list>
    </ion-col>

  </ion-row>
  <!-- <ion-searchbar  style="width: 92%;border-radius: 5px;margin-left: 16px;background: none !important;"
    (ionCancel)="onCancel($event)" placeholder="Search Items" (ionInput)="getItemslist($event)"></ion-searchbar> -->

</ion-header>

<ion-content style="background: url(../assets/images/listback.jpeg) no-repeat;">
<img *ngIf="responsecount==0" style="display: block;margin-left: auto;margin-right: auto;" [src]="'assets/images/norecords.png'" alt=""/>
 

  <div class="labeltxrt" *ngIf="hidden">
    <ion-row>
      <ion-col>
        <ion-label class="montereyflf">Select Catagory for Products.</ion-label>
      </ion-col>
    </ion-row>
  </div>

    <!-- <div formArrayName="itemslist"> -->
      <div>
        <div class="input-icons"> 
        <!-- <div [formGroupName]="i"  *ngFor="let tech of form.controls.itemslist.controls; let i = index"> -->
          <div *ngFor="let r of searchresponse; let item = index">

          <ion-card>
            <ion-card-content style="padding: 0px 0px;min-height: 135px;">
             
              <div style="width: 100%;">
              <ion-row style="width: 30%;float: left;" >
                <ion-col col-12>
                  <img src="http://stockapp.bashaproducts.co.in/Images/{{r.ImageByteArray1}}" style="height: 120px;width: 100%;border-radius: 5px;"  onerror="this.onerror=null;this.src='../assets/images/noimage.jpg'"
                    alt="" />
                </ion-col>
              
              </ion-row>
              <ion-row style="width: 70%;float: right;padding: 0px 15px;">
                <ion-col col-12 style="padding: 1px !important;margin-bottom: 5px;">
                  <ion-label 
                    style="line-height: initial;margin: 0 0 0 0 !important;font-size: 20px;color: black;font-weight: 600;float: left;font-family: -webkit-pictograph;">
                    {{r.Name.length > 20 ? r.Name.substring(0,20)+"..." : r.Name}}
                    </ion-label>
                </ion-col>

                <ion-col *ngIf="r.Weight==1" col-12 style="padding: 0px !important;">

                    <ion-list id="llist" inset class="no-border" style="border: 1px solid grey;width: 100%;    margin:0;
                    border-radius: 3px;height: 40px;">
                      <ion-item style="padding-left: 0px;">
                        <ion-select id="ions" interface="action-sheet"  (ionChange)='onWeightChange(r,item,$event)' 
                          style="width: 100% !important;max-width:none !important;" placeholder="Select Weight">
                          <ion-option *ngFor="let state of weightList"  [value]="state.Value">
                            {{state.Name}}</ion-option>
                        </ion-select>
<!--                        
                        <ion-item>
                          <ion-input readonly type="text" maxlength="40" formControlName="Amount"
                            placeholder="Amount"></ion-input>
                        </ion-item> -->


                      </ion-item>
              
                    </ion-list>
                </ion-col>
                <ion-col class="col-6" style="">
                  <ion-label 
                  style="margin: 0 0 0 0 !important;font-size: 18px;margin-top: -7px;color: black;font-weight: 600;float: left;font-family: -webkit-pictograph;">
                {{r.Price | currency:'INR'}}      
              </ion-label>
            </ion-col>       
            <ion-col class="col-6" style="padding: 1px !important;max-width: 30%;border-radius: 20px;font-size: 1.5rem;height: 28px;margin-top: 10px;color: white;background-color: #b8860b;">
            

              <ion-icon name="remove-circle" (click)="removecart(r,item)" slot="icon-only"  style="float: left;padding: 5px;"></ion-icon>

              <span > {{r.ItemQuantity}}      </span>

              <ion-icon name="md-add" slot="icon-only" (click)="addToCart(r,item)" style="float: right;padding: 5px;" ></ion-icon>


            </ion-col>
          </ion-row>
              </div>
            </ion-card-content>
          </ion-card>
        </div>
        </div>
      <!-- </div> -->
      
      <div id="btnsubmit"  [ngStyle]="{'display':getProductResponse.length>0 ? 'inline': 'none'}"
        style="height: 3.6rem;padding: 5px; width: 100%;float: left;">
        <button ion-button block tappable style="background-color: #b8860b;" (click)="proceedtocheckout()">
          PROCEED
        </button>
      </div>
    </div>

</ion-content>